# 版本管理系统

## 版本号格式

版本号格式为：`Ver:1.0.yyyymmdd.###`

- `1.0`: 主版本号.次版本号
- `yyyymmdd`: 日期（年月日）
- `###`: 当日构建号（001-999）

示例：`Ver:1.0.20260206.001`

## 使用方法

### 升级版本

```bash
bun run upgrade "版本变更内容"
```

示例：
```bash
bun run upgrade "添加版本管理功能"
bun run upgrade "修复文件查看器bug"
bun run upgrade "优化性能"
```

### 版本显示

版本号会自动显示在系统底部状态栏的右侧。点击版本号可以查看完整的更新日志。

## 状态栏功能

状态栏位于应用底部，显示以下信息：

### 左侧区域
- **项目路径**: 显示当前打开的项目名称（悬停显示完整路径）
- **Git 分支**: 显示当前 Git 分支（占位符）
- **打开文件数**: 显示当前打开的文件标签页数量

### 右侧区域
- **主题切换**: 点击切换深色/浅色主题
- **语言设置**: 显示当前界面语言
- **应用名称**: 显示"MD Notebook"
- **版本号**: 点击查看完整更新日志

## 版本文件

版本信息存储在项目根目录的 `version.json` 文件中，包含：
- 当前版本号
- 完整的更新日志

## 工作原理

1. 每次运行 `bun run upgrade` 时，脚本会：
   - 读取当前版本号
   - 根据当前日期生成新版本号
   - 如果是同一天的多次升级，构建号会递增
   - 将变更内容添加到更新日志
   - 更新 `version.json` 文件

2. 状态栏组件会：
   - 在应用启动时加载 `version.json`
   - 在底部状态栏显示当前版本号
   - 提供点击查看完整更新日志的功能
   - 显示其他应用状态信息（项目、主题、语言等）

## 文件说明

- `scripts/upgrade-version.ts`: 版本升级脚本
- `version.json`: 版本信息存储文件
- `src/components/layout/StatusBar.vue`: 状态栏组件（包含版本显示）
