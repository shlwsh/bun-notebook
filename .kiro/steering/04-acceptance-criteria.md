---
inclusion: always
---

# 验收标准规范

## 验收原则

**需求开发完成后，必须有明确的验收标准和可检查的产物**。

## 验收标准要求

### 1. 验收标准必须明确

每个需求或任务必须在开始前定义清晰的验收标准，包括：

- **功能性标准**：功能是否按预期工作
- **性能标准**：响应时间、资源占用等指标
- **质量标准**：代码质量、测试覆盖率等
- **文档标准**：必要的文档是否完整

### 2. 验收标准必须可检查

验收标准必须是客观的、可量化的、可验证的：

✅ **好的验收标准：**
- "点击保存按钮后，文件内容保存到本地，并显示成功提示"
- "搜索功能在 100ms 内返回结果"
- "单元测试覆盖率达到 80%"
- "生成的 API 文档包含所有公共接口"

❌ **不好的验收标准：**
- "功能正常工作"（不明确）
- "性能良好"（无法量化）
- "代码质量高"（主观判断）

### 3. 验收标准必须有产物

每个需求完成后必须产生可检查的产物：

| 需求类型 | 必须产物 | 可选产物 |
|---------|---------|---------|
| 新功能开发 | 功能代码、单元测试、功能演示 | 设计文档、用户文档 |
| Bug 修复 | 修复代码、回归测试、修复说明 | Bug 分析报告 |
| 性能优化 | 优化代码、性能对比数据、测试报告 | 优化方案文档 |
| 重构 | 重构代码、测试通过证明、重构说明 | 架构设计文档 |
| 文档编写 | 完整文档、示例代码 | 视频教程 |

## 验收流程

### 阶段 1：需求确认
在开始开发前，必须明确：

1. **需求描述**：清晰描述要实现什么
2. **验收标准**：列出所有验收条件
3. **交付产物**：明确需要交付什么
4. **完成时间**：预估完成时间

**模板：**
```markdown
## 需求：[需求名称]

### 需求描述
[详细描述需求内容]

### 验收标准
- [ ] 标准 1：[具体可检查的标准]
- [ ] 标准 2：[具体可检查的标准]
- [ ] 标准 3：[具体可检查的标准]

### 交付产物
- [ ] 产物 1：[具体文件或功能]
- [ ] 产物 2：[具体文件或功能]

### 预估时间
[X] 小时/天
```

### 阶段 2：开发实施
开发过程中：

1. 按照验收标准进行开发
2. 及时更新进度
3. 遇到问题及时沟通调整
4. 完成一项标准就标记一项

### 阶段 3：自我验收
开发完成后，开发者必须进行自我验收：

1. **功能验收**
   - [ ] 所有功能按预期工作
   - [ ] 边界情况处理正确
   - [ ] 错误处理完善
   - [ ] 用户体验流畅

2. **代码验收**
   - [ ] 代码符合规范
   - [ ] 没有 ESLint/Clippy 警告
   - [ ] 类型定义完整
   - [ ] 注释清晰充分

3. **测试验收**
   - [ ] 单元测试通过
   - [ ] 测试覆盖率达标
   - [ ] 手动测试通过
   - [ ] 回归测试通过

4. **文档验收**
   - [ ] 代码注释完整
   - [ ] API 文档更新
   - [ ] 用户文档更新（如需要）
   - [ ] CHANGELOG 更新

### 阶段 4：产物交付
提交验收时，必须提供：

1. **代码产物**
   - 源代码文件
   - 测试文件
   - 配置文件

2. **文档产物**
   - 功能说明文档
   - API 文档（如有）
   - 使用示例

3. **验证产物**
   - 测试报告
   - 功能演示（截图/视频）
   - 性能数据（如有）

4. **变更说明**
   - 修改内容总结
   - 影响范围说明
   - 注意事项

### 阶段 5：正式验收
验收人员检查：

1. **验收标准检查**
   - 逐项检查验收标准
   - 验证所有产物完整性
   - 确认功能正确性

2. **质量检查**
   - 代码质量审查
   - 测试充分性检查
   - 文档完整性检查

3. **验收结论**
   - ✅ **通过**：所有标准满足，产物完整
   - ⚠️ **有条件通过**：主要功能满足，次要问题需后续修复
   - ❌ **不通过**：关键标准未满足，需要返工

## 验收标准示例

### 示例 1：新增 Markdown 编辑器工具栏

**需求描述：**
为 Markdown 编辑器添加格式化工具栏，支持常用的 Markdown 语法快捷操作。

**验收标准：**
- [ ] 工具栏包含以下按钮：加粗、斜体、标题、列表、链接、代码块
- [ ] 点击按钮后，在光标位置插入对应的 Markdown 语法
- [ ] 如果有选中文本，则包裹选中文本
- [ ] 工具栏样式与整体 UI 风格一致
- [ ] 所有按钮都有 Tooltip 提示
- [ ] 响应时间 < 50ms
- [ ] 单元测试覆盖率 ≥ 80%

**交付产物：**
- [ ] `src/components/editor/MarkdownToolbar.vue` 组件
- [ ] `src/utils/markdownOperations.ts` 工具函数
- [ ] `src/utils/markdownOperations.test.ts` 单元测试
- [ ] 功能演示截图或 GIF
- [ ] 组件使用文档

**验收结果：**
- ✅ 所有验收标准满足
- ✅ 所有产物已交付
- ✅ 测试覆盖率 85%
- ✅ 功能演示已提供

### 示例 2：修复文件保存 Bug

**需求描述：**
修复在特殊字符文件名下保存失败的问题。

**验收标准：**
- [ ] 支持包含空格、中文、特殊符号的文件名
- [ ] 保存成功后显示正确的提示信息
- [ ] 保存失败时显示明确的错误信息
- [ ] 添加回归测试防止问题再次出现
- [ ] 不影响现有的保存功能

**交付产物：**
- [ ] 修复后的代码
- [ ] 回归测试用例
- [ ] Bug 修复说明文档
- [ ] 测试通过截图

**验收结果：**
- ✅ 所有特殊字符文件名测试通过
- ✅ 回归测试已添加
- ✅ 现有功能未受影响
- ✅ 修复说明文档已提供

## 验收检查清单

在提交验收前，确保：

### 功能检查
- [ ] 所有功能按验收标准实现
- [ ] 边界情况处理正确
- [ ] 错误处理完善
- [ ] 用户体验良好

### 代码检查
- [ ] 代码符合技术栈规范
- [ ] 没有 Lint 警告或错误
- [ ] 类型定义完整
- [ ] 代码注释清晰（中文）

### 测试检查
- [ ] 单元测试已编写
- [ ] 所有测试通过
- [ ] 测试覆盖率达标
- [ ] 手动测试通过

### 文档检查
- [ ] 代码注释完整
- [ ] 必要的文档已更新
- [ ] 使用示例清晰
- [ ] CHANGELOG 已更新

### 产物检查
- [ ] 所有承诺的产物已交付
- [ ] 产物格式正确
- [ ] 产物内容完整
- [ ] 产物可访问可验证

## 验收不通过的处理

如果验收不通过：

1. **明确问题**：列出所有不符合标准的项
2. **分析原因**：找出问题根源
3. **制定方案**：确定修复计划
4. **重新开发**：按照反馈进行修改
5. **再次验收**：修复后重新提交验收

## 验收记录

每次验收都应该有记录：

```markdown
## 验收记录

**需求名称：** [需求名称]
**验收时间：** [YYYY-MM-DD HH:mm]
**验收人员：** [验收人]
**开发人员：** [开发人]

### 验收结果
- [x] 验收标准 1
- [x] 验收标准 2
- [ ] 验收标准 3（未通过原因）

### 产物检查
- [x] 产物 1 - 完整
- [x] 产物 2 - 完整

### 验收结论
[通过/有条件通过/不通过]

### 备注
[其他说明]
```

## 总结

验收标准的核心是：

1. **明确性**：标准清晰，不模糊
2. **可检查性**：标准可验证，可量化
3. **产物化**：有具体的交付物
4. **完整性**：覆盖功能、质量、文档等各方面
5. **可追溯性**：有完整的验收记录
